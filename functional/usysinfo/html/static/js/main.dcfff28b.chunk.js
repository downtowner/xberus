(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[0],{1029:function(e,t,a){},1067:function(e,t,a){},1098:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(44),s=a.n(i),o=(a(553),a(554),a(555),a(534)),c=a.n(o),u=(a(209),a(132)),l=a.n(u),m=a(23),d=a(25),p=a(28),h=a(27),g=(a(279),a(174)),f=a.n(g),b=(a(567),a(155)),O=a.n(b),v=(a(569),a(150)),E=a(58),j=(a(570),a(533)),y=a.n(j),k=(a(339),a(181)),S=a.n(k),L=a(7),_=a(42),w=a.n(_),C=a(70),T=(a(574),a(575),a(137)),I=a.n(T),x=a(516),D=a.n(x),P={prod:window.location.pathname,xiaobing:"/xiaobing",zhipeng:"/zhipeng",senfeng:"/senfeng"},N=(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_TYPE&&Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_TYPE,P.prod),V=(a(337),a(264),a(5)),H=(a(348),a(204)),A=a.n(H);a(1110),a(1111),a(1112),a(1113),a(1114),a(1115),a(1116),a(1117),a(1118),a(1119),a(1120),a(1121),a(1122),a(1123),A.a.Option,f.a.SubMenu,f.a.Item;var R,B,U=function(e){return localStorage.getItem(e)},M=a(1108),Y=Object(M.a)((R={},Object(L.a)(R,"bookListGet",(function(){return[{id:"1",title:"111",description:"111"}]})),Object(L.a)(R,"bookListDelete",(function(e){return{id:e}})),Object(L.a)(R,"changeLogin",(function(e){return{flag:e}})),Object(L.a)(R,"changeDrop",(function(e){return{flag:e}})),Object(L.a)(R,"permission_change",(function(e,t){return{permissionList:e}})),R)),G=a(178),W=a(518),K=a(1109),z=Object(K.a)((B={},Object(L.a)(B,"bookListGet",(function(e,t){return Object(V.a)(Object(V.a)({},e),{},{bookList:t.payload})})),Object(L.a)(B,"bookListDelete",(function(e,t){return Object(V.a)(Object(V.a)({},e),{},{bookList:e.bookList.filter((function(e){return e.id!==t.payload.id}))})})),Object(L.a)(B,"changeLogin",(function(e,t){return Object(V.a)(Object(V.a)({},e),{},{loginVisible:t.payload.flag})})),Object(L.a)(B,"changeDrop",(function(e,t){return Object(V.a)(Object(V.a)({},e),{},{dropVisilve:t.payload.flag})})),Object(L.a)(B,"permission_change",(function(e,t){var a=JSON.parse(JSON.stringify(e));return a.permissionList=t.payload.permissionList,a})),B),{list:[1,2,3],bookList:[{id:"1",title:"111",description:"111"}],inputValue:"a",loginVisible:!1,dropVisilve:!1,permissionList:[]}),F=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):G.c)(Object(G.a)(W.a)),J=Object(G.d)(z,F),X=D.a.create({baseURL:N,timeout:2e5,withCredentials:!0});X.interceptors.request.use((function(e){U("token")&&(e.headers.Authorization="Bearer ".concat(U("token")));e.data&&!1!==e.data.loading||e.params&&e.params.loading;return document.getElementById("ajaxLoading").style.display="block",e}),(function(e){return console.log("\u8bf7\u6c42\u5931\u8d25"),document.getElementById("ajaxLoading").style.display="none",Promise.reject(e)})),X.interceptors.response.use((function(e){document.getElementById("ajaxLoading").style.display="none";var t=e.data;return 0!==t.code?(I.a.error(t.msg||"\u7f51\u7edc\u9519\u8bef"),Promise.reject("error")):t}),(function(e){switch(document.getElementById("ajaxLoading").style.display="none",e.response.status){case 401:localStorage.removeItem("token"),localStorage.removeItem("authed"),localStorage.removeItem("username"),localStorage.removeItem("userid"),localStorage.removeItem("department"),I.a.error("\u8bf7\u5148\u767b\u5f55");var t=Y.changeDrop(!1);J.dispatch(t);var a=Y.changeLogin(!0);J.dispatch(a);break;case 500:case 504:default:I.a.error(e.message)}return Promise.reject(e)}));var q=X,$={getSystemInfo:function(){var e=arguments;return Object(C.a)(w.a.mark((function t(){var a,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:{},t.next=3,q({url:"".concat("","?api=1"),method:"get",params:a});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},postSystemInfo:function(e){var t=arguments;return Object(C.a)(w.a.mark((function a(){var n,r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:{},a.next=3,q({url:"".concat("","?api=1&field=").concat(e),method:"post",data:n});case 3:return r=a.sent,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})))()},publish:function(e){return Object(C.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q({url:"/v1/demand",method:"post",data:e});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()}},Q=(a(685),a(277)),Z=a.n(Q),ee=(a(689),a(532)),te=a.n(ee),ae=a(535),ne=(a(1029),a(180)),re=a.n(ne),ie=A.a.Option,se=te.a.RangePicker,oe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).change=function(e,t){0!==t.length&&n.props.getOneList(n.props.status.name,t)},n.handleChange=function(e){var t=n.setTime(e);n.props.getOneList(n.props.status.name,t)},n.setTime=function(e){var t="YYYY/MM/DD HH:mm:ss",a=(new Date).getTime(),r=a-3600*e*1e3,i=re()(a).format(t),s=re()(r).format(t);return n.refs.form.setFieldsValue({time:[re()(s,t),re()(i,t)]}),[s,i]},n.state={list:[],label:""},n.noUpdate={list:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setTime(1)}},{key:"shouldComponentUpdate",value:function(e,t){return this.noUpdate.list.length!==e.list.length&&(this.noUpdate.list=e.list,!0)}},{key:"render",value:function(){var e=this.props.hasRate?"%":"",t={showTitle:!0,data:this.props.list,height:300,xField:"t",yField:"v",seriesField:"n",point:{size:.05,shape:"diamond"},appendPadding:1,yAxis:{label:{formatter:function(t){return t+e}}},xAxis:{tickCount:10},legend:{visible:!0},responsive:!0,renderer:"svg"};return r.a.createElement("div",{className:"charts"},r.a.createElement("h1",{className:"title"},r.a.createElement("span",null,this.props.status.title),r.a.createElement(Z.a,{ref:"form",layout:"inline"},r.a.createElement(Z.a.Item,null,r.a.createElement(A.a,{defaultValue:1,onChange:this.handleChange},r.a.createElement(ie,{value:1},"1\u5c0f\u65f6"),r.a.createElement(ie,{value:6},"6\u5c0f\u65f6"),r.a.createElement(ie,{value:24},"1\u5929"),r.a.createElement(ie,{value:168},"7\u5929"))),r.a.createElement(Z.a.Item,{name:"time"},r.a.createElement(se,{onChange:this.change,className:"picker",showTime:{format:"HH:mm:ss"},format:"YYYY/MM/DD HH:mm:ss",placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]})))),r.a.createElement(ae.a,t))}}]),a}(n.Component),ce=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getData=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={field:"cpu,disk,goruntime,memory,network,io,systeminfo"},e.next=3,$.getSystemInfo(t);case 3:0===(a=e.sent).code&&n.setState({data:a.data});case 5:case"end":return e.stop()}}),e)}))),n.getOneList=function(){var e=Object(C.a)(w.a.mark((function e(t,a){var r,i,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={startdate:a[0],enddate:a[1]},e.next=3,$.postSystemInfo(t,r);case 3:0===(i=e.sent).code&&(s=Object.assign({},n.state.data,Object(L.a)({},t,i.data[t])),n.setState({data:s}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={visible:!0,data:{cpu:[],disk:[],goruntime:[],memory:[],network:[],systemInfo:[],io:[]},status:{cpu:{name:"cpu",title:"CPU\u8fd0\u884c\u72b6\u6001"},disk:{name:"disk",title:"\u786c\u76d8\u8fd0\u884c\u72b6\u6001"},goruntime:{name:"goruntime",title:"GO\u8fd0\u884c\u72b6\u6001"},memory:{name:"memory",title:"\u5185\u5b58\u8fd0\u884c\u72b6\u6001"},network:{name:"network",title:"\u7f51\u7edc\u8fd0\u884c\u72b6\u6001"},io:{name:"io",title:"IO\u8fd0\u884c\u72b6\u6001"}}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:""},r.a.createElement(y.a,{title:"\u7cfb\u7edf\u4fe1\u606f",centered:!0,visible:this.props.visible,onOk:function(){return e.props.changeVisible()},onCancel:function(){return e.props.changeVisible()},width:1200,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},r.a.createElement(S.a,{className:"info",bordered:!0},this.state.data.systemInfo.map((function(e,t){return r.a.createElement(S.a.Item,{key:t,label:e[0]},r.a.createElement("div",{className:"contentBox"},e[1]))})))),r.a.createElement(oe,{getOneList:this.getOneList,hasRate:!0,status:this.state.status.cpu,list:this.state.data.cpu}),r.a.createElement(oe,{getOneList:this.getOneList,hasRate:!0,status:this.state.status.memory,list:this.state.data.memory}),r.a.createElement(oe,{getOneList:this.getOneList,hasRate:!0,status:this.state.status.disk,list:this.state.data.disk}),r.a.createElement(oe,{getOneList:this.getOneList,status:this.state.status.network,list:this.state.data.network}),r.a.createElement(oe,{getOneList:this.getOneList,status:this.state.status.goruntime,list:this.state.data.goruntime}),r.a.createElement(oe,{getOneList:this.getOneList,status:this.state.status.io,list:this.state.data.io}))}}]),a}(r.a.Component),ue=(a(1067),r.a.Component,a(275)),le=a(327);var me=O.a.Header,de=O.a.Content,pe=O.a.Footer,he=(O.a.Sider,f.a.SubMenu,function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).changeVisible=function(){r.setState({visible:!1})},r.GetCurrentPageHeaderTitle=function(){return"\u7cfb\u7edf\u72b6\u6001"},r.GetCurrentPageHeaderSubTitle=function(){return"\u60a8\u53ef\u4ee5\u5728\u8fd9\u4e2a\u9875\u9762\u770b\u5230\u6574\u4e2a\u7cfb\u7edf\u7684\u6982\u8981\u60c5\u51b5"},r.GetButton=function(){return[n.createElement(l.a,{key:"1",size:"large",shape:"round",onClick:function(){r.setState({visible:!0})},type:"primary"},"\u67e5\u770b\u7cfb\u7edf\u4fe1\u606f")]},r.state={visible:!1,CurrentMenuSelectKey:"/"===r.props.location.pathname?"/index":r.props.location.pathname},r}return Object(d.a)(a,[{key:"render",value:function(){return n.createElement(O.a,null,n.createElement(O.a,{className:"site-layout"},n.createElement(me,{className:"site-header"},n.createElement(c.a,{backIcon:!1,title:this.GetCurrentPageHeaderTitle(),subTitle:this.GetCurrentPageHeaderSubTitle(),extra:this.GetButton()})),n.createElement(de,{className:"content"},n.createElement(ce,{changeVisible:this.changeVisible,visible:this.state.visible})),n.createElement(pe,{style:{textAlign:"center"}},"Nova \xa92020 Created by BenLampson")))}}]),a}(n.Component)),ge=Object(E.e)(he);function fe(){return r.a.createElement("div",{className:"App"},r.a.createElement(ge,null))}var be=function(){return r.a.createElement(ue.AliveScope,null,r.a.createElement(v.a,{basename:"/"},r.a.createElement(E.a,{path:"/",component:fe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=function(){return r.a.createElement(le.a,{store:J},r.a.createElement(be,null))};s.a.render(r.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},548:function(e,t,a){e.exports=a(1098)},553:function(e,t,a){},554:function(e,t,a){},569:function(e,t,a){},574:function(e,t,a){}},[[548,1,2]]]);
//# sourceMappingURL=main.dcfff28b.chunk.js.map